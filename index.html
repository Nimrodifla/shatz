<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>שצ</title>
</head>
<body>
    <h1 class="heebo">ש"צ Engine</h1>
    <input id="search_box" placeholder='חפש ש"צ [משפט \ מספר]'/>
    <div id="cont"></div>
</body>
<script>
    let local_db = {0: 'שבירת צופן', 1: 'שיעור צופן', 2: 'שירטוט צופן', 3: 'שמירת צופן', 4: 'שבירת צלע', 5: 'שמירת צלע', 6: 'שבלול צולע', 7: 'שין צדיק', 8: 'שבת צדיק', 9: 'שבת צחורה', 10: 'שוב צדקת', 11: 'שוב צדקתי', 12: 'שומע? צדקת', 13: 'שווה צביטה', 14: 'שווה צדקה', 15: 'שווה צפירה', 16: 'שווה צלעות', 17: 'שוטר צבאי', 18: 'שימון צבאי', 19: 'שולק צבים', 20: 'שרדר צבים', 21: 'שומעים צלול', 22: 'שלוק צלול', 23: 'שומר צוות', 24: 'שונא צרבת', 25: 'שופט צדיקים', 26: 'שינת צדיקים', 27: 'שחרור צואה', 28: 'שחרור צוויץ', 29: 'שחרור צלע', 30: 'שחרור צרור', 31: 'שי צהוב', 32: 'שלט צהוב', 33: 'שיבוש צעדים', 34: 'שיואו ציצי', 35: 'שלחי ציצי', 36: 'שמנת. ציצי?', 37: 'ששש... ציצי', 38: 'שתקי! ציצי?', 39: 'שיחה צפופה', 40: 'שייק צנוברים', 41: 'שיכור צרוד', 42: 'שילוב צבעים', 43: 'שינה צהלית', 44: 'שמחה צהלית', 45: 'שינוי צריך', 46: 'שירה צורמת', 47: 'שריקה צורמת', 48: 'שירה ציבורית', 49: 'שירת ציפורים', 50: 'שלאקה ציוותית', 51: 'שליחה צדיקה', 52: 'שליפת ציציות', 53: 'שליקה צמודה', 54: 'שמירה צמודה', 55: 'שליקת ציץ', 56: 'שלפי ציץ', 57: 'שלשול צווחני', 58: 'שמנה צינורית', 59: 'שמעתי צעקות', 60: 'שניצל צמיגי', 61: 'שפיכה צהובה', 62: 'שפשוף צנוע', 63: 'שתקן צנוע', 64: "שתקי צ'וצ'ה", 65: "שקט צ'וצ'ה", 66: 'שקט צוציק', 67: 'שקרן צבוע', 68: 'שרברב צמא', 69: 'שרוך צבעוני', 70: 'שרירי צוואר', 71: 'שרירן ציפלון', 72: 'שרמוטה צדיקה', 73: 'שרמוטה צודקת', 74: 'שרמוטה צוותית', 75: 'שרמוטה ציבורית', 76: 'שרמוטה צמודה', 77: 'שתיקת צרצרים', 78: 'שתית ציאניד?'};

    let cont_elem = document.getElementById('cont');
    let search_box_elem = document.getElementById('search_box');

    search_box_change(); // show all results
    search_box_elem.addEventListener('input', search_box_change);

    // keyword can be eather the word or the number
    function search_results(keyword)
    {
        let results_arr = {};

        if (keyword.length == 0)
        {
            results_arr = local_db;
        }
        else
        {
            // word or number?
            let is_word = isNaN(keyword);

            for (let i in local_db)
            {
                let iter;
                let word = local_db[i];
                if (is_word)
                    iter = local_db[i];
                else
                    iter = i.toString();

                if (iter.includes(keyword))
                {
                    results_arr[i] = word;
                }
            }
        }

        cont_elem.innerHTML = '';
        cont_elem.innerHTML +='<h3>' + Object.keys(results_arr).length + ' צירופים:' + '</h3>';
        for (let i in results_arr)
        {
            let word = results_arr[i];
            cont_elem.innerHTML += '<div class="word">' + 'ש"צ מספר' + ' [' + i + ']: <strong>' + word + '</strong></div>';
        }

        
    }

    function search_box_change()
    {
        console.log("a");
        let keyword = search_box_elem.value;

        search_results(keyword);
    }
    
</script>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@100..900&display=swap');

    body {
        text-align: center;
        direction: rtl;

        font-family: "Heebo", sans-serif;
        font-optical-sizing: auto;
        font-weight: 200px;
        font-style: normal;

        margin-bottom: 100px;
    }

    h1, h2, h3, h4, h5, h6 {
        font-family: "Heebo", sans-serif;
        font-optical-sizing: auto;
        font-weight: 200px;
        font-style: normal;
    }

    #cont {
        text-align: right;
        margin: auto;
        padding: auto;
        width: fit-content;
    }

    .word {
        
    }
</style>
</html>